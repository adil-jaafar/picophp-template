<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>picoPHP - Micro Framework</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        .typing::after {
            content: "|";
            display: inline-block;
            animation: blink 0.7s infinite;
        }

        @keyframes blink {
            50% {
                opacity: 0;
            }
        }
    </style>
</head>

<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen">

    <div class="text-center max-w-4xl">
        <div class="mt-8">
            <h2 class="text-2xl font-semibold mb-4">
                <i class="fa fa-rocket mr-2"></i>
                D√©marrage Rapide
            </h2>
            <p class="text-gray-300">
                Cr√©ez un fichier <code>app/index/routes.php</code> avec le code suivant :
            </p>
            <pre class="text-left bg-gray-800 rounded-md p-4 mt-2 text-sm">
                <code class="language-php">
&lt;?php

$get = function(Response $response) {
    return $response(200)->html("&lt;h1&gt;Hello, picoPHP!&lt;/h1&gt;");
};
                </code>
            </pre>
            <p class="text-gray-300 mt-2">
                Et voil√† ! Acc√©dez √† <code>/index</code> dans votre navigateur pour voir le r√©sultat.
            </p>
        </div>

        <div class="text-center mt-12">
            <h1 class="text-4xl font-bold">
                üöÄ <span class="text-blue-400">P</span><span id="prefix" class="text-blue-400 typing"></span>PHP
            </h1>
            <p id="subtitle" class="text-lg text-gray-300 mt-2">Le micro-framework PHP ultra-l√©ger.</p>
        </div>


        <div class="mt-12">
            <h2 class="text-2xl font-semibold mb-4">
                <i class="fa fa-star mr-2"></i>
                Fonctionnalit√©s Cl√©s
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="p-4 bg-gray-800 rounded-md">
                    <h3 class="text-xl font-semibold mb-2">
                        <i class="fa fa-code-branch mr-1"></i>
                        File-Based Routing
                    </h3>
                    <p class="text-gray-300">D√©finissez vos routes simplement en cr√©ant des fichiers
                        <code>routes.php</code> dans la structure de votre application.</p>
                </div>

                <div class="p-4 bg-gray-800 rounded-md">
                    <h3 class="text-xl font-semibold mb-2">
                        <i class="fa fa-link mr-1"></i>
                        Dependency Injection
                    </h3>
                    <p class="text-gray-300">Acc√©dez facilement aux services (Request, Response, Env, DB, etc.) gr√¢ce √†
                        l'injection de d√©pendances.</p>
                </div>

                <div class="p-4 bg-gray-800 rounded-md">
                    <h3 class="text-xl font-semibold mb-2">
                        <i class="fa fa-route mr-1"></i>
                        Path Parameters
                    </h3>
                    <p class="text-gray-300">Capturez facilement les segments dynamiques de l'URL en tant que
                        param√®tres.</p>
                </div>

                <div class="p-4 bg-gray-800 rounded-md">
                    <h3 class="text-xl font-semibold mb-2">
                        <i class="fa fa-filter mr-1"></i>
                        Middleware
                    </h3>
                    <p class="text-gray-300">Impl√©mentez une logique r√©utilisable avant et apr√®s les gestionnaires de
                        routes.</p>
                </div>
            </div>
        </div>

        <div class="mt-12">
            <h2 class="text-2xl font-semibold mb-4">
                <i class="fa fa-flask mr-2"></i>
                Exemples
            </h2>

            <div class="p-4 bg-gray-800 rounded-md">
                <h3 class="text-xl font-semibold mb-2">Acc√®s √† la base de donn√©es</h3>
                <p class="text-gray-400 mb-2">Fichier: <code>app/users/routes.php</code></p>
                <pre class="text-left text-sm">
                    <code class="language-php">
&lt;?php

$get = function(DB $db, Response $response) {
    $users = $db->query('SELECT * FROM users');
    return $response(200)->json($users);
};
                    </code>
                </pre>
                <p class="text-gray-400 mt-2">Fonction <code>$get</code> qui r√©cup√®re les utilisateurs de la base de
                    donn√©es.</p>
            </div>

            <div class="p-4 bg-gray-800 rounded-md mt-4">
                <h3 class="text-xl font-semibold mb-2">Middleware d'authentification</h3>
                <p class="text-gray-400 mb-2">Fichier: <code>app/middleware.php</code></p>
                <pre class="text-left text-sm">
                    <code class="language-php">
&lt;?php

$before = [
    function(Request $request, Response $response) {
        if (!isAuthenticated($request)) {
            return $response(401)->json(['error' => 'Unauthorized']);
        }
    }
];

function isAuthenticated(Request $request): bool {
  //TODO replace by a real auth check
  $token = $request->headers("authorization");
  return $token === "Bearer mysecrettoken";
}
                    </code>
                </pre>
                <p class="text-gray-400 mt-2">Middleware <code>$before</code> qui v√©rifie l'authentification avant
                    d'autoriser l'acc√®s aux routes.</p>
            </div>

            <div class="p-4 bg-gray-800 rounded-md mt-4">
                <h3 class="text-xl font-semibold mb-2">R√©cup√©rer des param√®tres de l'URL</h3>
                <p class="text-gray-400 mb-2">Fichier: <code>app/product/[id]/routes.php</code></p>
                <pre class="text-left text-sm">
                    <code class="language-php">
&lt;?php

$get = function(Path $path, Response $response) {
  $productId = $path['id'];
  return $response(200)->json(['product_id' => $productId]);
};
                    </code>
                </pre>
                <p class="text-gray-400 mt-2">R√©cup√®re l'id du product dans l'URL <code>/product/123</code></p>
            </div>
        </div>

        <div class="mt-12">
            <h2 class="text-2xl font-semibold mb-4">
                <i class="fa fa-download mr-2"></i>
                Installation
            </h2>
            <p class="text-gray-300">
                Utilisez Composer pour installer picoPHP :
            </p>
            <pre class="text-left bg-gray-800 rounded-md p-4 mt-2 text-sm">
                <code class="language-php">
composer require adil-jaafar/picophp:*
                </code>
            </pre>
        </div>

        <div class="mt-12">
            <p class="text-gray-500">
                D√©velopp√© avec ‚ù§Ô∏è par [Votre Nom ou Organisation]
            </p>
        </div>

    </div>

    <script>
        const prefixes = [
            { name: "ico", phrase: "Ultra-l√©ger, con√ßu pour aller √† l'essentiel." },
            { name: "ocket", phrase: "Le framework PHP qui tient dans votre poche." },
            { name: "ulse", phrase: "Un framework PHP rapide et r√©actif." },
            { name: "ing", phrase: "Pour des API ultra-connect√©es." },
            { name: "ixie", phrase: "Petit, magique et puissant." },
            { name: "rime", phrase: "Minimaliste mais robuste." },
            { name: "ower", phrase: "Une performance maximale avec un minimum de code." },
            { name: "ure", phrase: "Une architecture pure et simple pour vos projets." },
            { name: "ath", phrase: "Un chemin clair vers des applications performantes." },
            { name: "ivot", phrase: "Flexibilit√© et rapidit√© au c≈ìur de vos microservices." },
            { name: "atch", phrase: "Attrapez la puissance de PHP en un instant." },
            { name: "unch", phrase: "D√©marrez vos projets en un √©clair." },
            { name: "hantom", phrase: "Aussi l√©ger qu‚Äôun fant√¥me, aussi puissant qu‚Äôun g√©ant." },
            { name: "ro", phrase: "La simplicit√© d‚Äôun micro-framework, la puissance d‚Äôun pro." },
            { name: "roto", phrase: "Id√©al pour prototyper rapidement des applications robustes." },
            { name: "atchwork", phrase: "Assemblez vos microservices comme un puzzle parfait." },
            { name: "recise", phrase: "Pr√©cision et rapidit√©, sans compromis." },
            { name: "otential", phrase: "Exploitons tout le potentiel de PHP avec √©l√©gance." },
            { name: "ulse", phrase: "Chaque requ√™te vibre avec rapidit√© et fluidit√©." },
            { name: "rogress", phrase: "Faites √©voluer vos projets √† la vitesse grand V." },
            { name: "eak", phrase: "Repoussez les limites de la performance avec PHP." },
            { name: "anther", phrase: "Agile, rapide et puissant comme une panth√®re." },
            { name: "roject", phrase: "Une base solide pour vos projets PHP." }
        ];


        let index = 0;
        let prefixElement = document.getElementById("prefix");
        let subtitleElement = document.getElementById("subtitle");

        function typeText(text, callback) {
            let i = 0;
            prefixElement.textContent = "";
            function typing() {
                if (i < text.length) {
                    prefixElement.textContent += text[i];
                    i++;
                    setTimeout(typing, 100);
                } else {
                    setTimeout(callback, 1000); // Attente avant d'effacer
                }
            }
            typing();
        }

        function deleteText(callback) {
            let text = prefixElement.textContent;
            function deleting() {
                if (text.length > 0) {
                    text = text.slice(0, -1);
                    prefixElement.textContent = text;
                    setTimeout(deleting, 50);
                } else {
                    setTimeout(callback, 500);
                }
            }
            deleting();
        }

        function cycleText() {
            let current = prefixes[index];
            subtitleElement.textContent = current.phrase;

            typeText(current.name, () => {
                setTimeout(() => {
                    deleteText(() => {
                        index = (index + 1) % prefixes.length;
                        cycleText();
                    });
                }, 1000);
            });
        }

        cycleText(); // D√©marrer l'animation
    </script>

</body>

</html>